<!DOCTYPE html>
<html>
<head>
    <title>Smart Shopping Admin</title>
    <meta meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        .badge {
            padding: 1px 9px 2px;
            font-size: 12.025px;
            font-weight: bold;
            white-space: nowrap;
            color: #ffffff;
            background-color: #999999;
            -webkit-border-radius: 9px;
            -moz-border-radius: 9px;
            border-radius: 9px;
        }
        .badge:hover {
            color: #ffffff;
            text-decoration: none;
            cursor: pointer;
        }
        .badge-error {
            background-color: #b94a48;
        }
        .badge-error:hover {
            background-color: #953b39;
        }
        .badge-warning {
            background-color: #f89406;
        }
        .badge-warning:hover {
            background-color: #c67605;
        }
        .badge-success {
            background-color: #468847;
        }
        .badge-success:hover {
            background-color: #356635;
        }
        .badge-info {
            background-color: #3a87ad;
        }
        .badge-info:hover {
            background-color: #2d6987;
        }
        .badge-inverse {
            background-color: #333333;
        }
        .badge-inverse:hover {
            background-color: #1a1a1a;
        }
    </style>
    <style>
        #snackbar {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 2px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            font-size: 17px;
        }

        #snackbar.show {
            visibility: visible;
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @-webkit-keyframes fadein {
            from {bottom: 0; opacity: 0;}
            to {bottom: 30px; opacity: 1;}
        }

        @keyframes fadein {
            from {bottom: 0; opacity: 0;}
            to {bottom: 30px; opacity: 1;}
        }

        @-webkit-keyframes fadeout {
            from {bottom: 30px; opacity: 1;}
            to {bottom: 0; opacity: 0;}
        }

        @keyframes fadeout {
            from {bottom: 30px; opacity: 1;}
            to {bottom: 0; opacity: 0;}
        }
    </style>
</head>
<body>
<div>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Smart Shopping</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li><a href="admin_list">Admin</a></li>
                    <li><a href="member_list">Member</a></li>
                    <li><a href="item_list">Product</a></li>
                    <li><a href="security">Security
                            <%if(alarm > 0){%>
                            <span class="badge badge-error"><%= alarm %></span>
                            <%}%>
                        </a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="logout"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <script type= "text/javascript">
        setInterval(function(){
            $('#myNavbar').load(window.location + '#myNavbar ul');
        }, 3000);
    </script>
</div>
<div class="body">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <br>
                <h1 class="page-header">
                    Item
                </h1>
            </div>
        </div>
    </div>
    <div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th> 태그 </th>
                <th> 이름 </th>
                <th> 가격 </th>
                <th> 수량 </th>
                <th> 위치 </th>
                <th> 분류 </th>
            </tr>
            </thead>
            <% for(var i = 0; i < rows.length; i++) { %>
            <tr>
                <td> <%= rows[i].id %></td>
                <td> <%= rows[i].name %></td>
                <td> <%= rows[i].price %></td>
                <td> <%= rows[i].count %></td>
                <td> <%= rows[i].place %></td>
                <td> <%= rows[i].category %></td>
            </tr>
            <% } %>
        </table>
    </div>
</div>
<div class="form-group">
    <button class="btn btn-default btn-block m-t-md" id="myBtn"> 추가</button>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h3>물품 추가</h3>
            </div>
            <div class="modal-body">
                <form action="/add_item" method="post">
                    <tr>
                        <td>태그</td>
                        <input type="text" class="form-control" name="Tag" placeholder="Tag num" autofocus>
                    </tr>
                    <tr>
                        <td>이름</td>
                        <input type="'text" class="form-control" name="Name" placeholder="ITEM">
                    </tr>
                    <tr>
                        <td>가격</td>
                        <input type="text" class="form-control" name="Price" placeholder="Price">
                    </tr>
                    <tr>
                        <td>수량</td>
                        <input type="text" class="form-control" name="Amount" placeholder="Amount">
                    </tr>
                    <tr>
                        <td>위치</td>
                        <input type="text" class="form-control" name="Position" placeholder="Position">
                    </tr>
                    <tr>
                        <td>분류</td>
                        <input type="text" class="form-control" name="Category" placeholder="Category">
                    </tr>
                    <tr>
                        <input id="btn_join" type="submit" value="추가">
                    </tr>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    var modal=document.getElementById('myModal');
    var btn=document.getElementById('myBtn');
    var span=document.getElementsByClassName("close")[0];
    btn.onclick=function(){
        modal.style.display="block";
    }
    span.onclick=function(){
        modal.style.display="none";
    }
    window.onclick=function(event){
        if(event.target==modal){
            modal.style.display="none";
        }
    }
</script>
<div id="snackbar"> <%=alarm%>건의 카트에 문제가 발생했습니다.</div>
<%if(alarm >0 ){%>
<script>
    var x = document.getElementById("snackbar");
    x.className = "show";
    setTimeout(function(){ x.className = x.className.replace("show", "")}, 5000);
</script>

<%}%>
</body>
</html>
